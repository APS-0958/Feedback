<!DOCTYPE html>
<html>
<head>
  <title>Feedback - Avatar Public School</title>
</head>

<body>
  <h2>Feedback Form</h2>

  <form id="feedbackForm">
    <p><b>Rate our stars</b></p>

    <input type="radio" name="rating" value="1 star" required> 1 star<br>
    <input type="radio" name="rating" value="2 stars"> 2 stars<br>
    <input type="radio" name="rating" value="3 stars"> 3 stars<br>
    <input type="radio" name="rating" value="4 stars"> 4 stars<br>
    <input type="radio" name="rating" value="5 stars"> 5 stars<br><br>

    <p><b>Feedback (optional)</b></p>
    <textarea id="feedback" rows="4" cols="40"></textarea><br><br>

    <button type="submit">Submit</button>
  </form>

  <p id="msg"></p>

  <script>
    document.getElementById("feedbackForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const rating = document.querySelector('input[name="rating"]:checked').value;
      const feedback = document.getElementById("feedback").value;

      const formURL =
        "https://docs.google.com/forms/d/e/1FAIpQLSesc4DPfk4lbNJ_TCszdNUwRmQHlEDUzxIDRdla1kis-XjWtg/formResponse";

      const data = new URLSearchParams();
      data.append("entry.902722392", rating);
      data.append("entry.1659189686", feedback);

      fetch(formURL, {
        method: "POST",
        body: data,
        mode: "no-cors"
      });

      document.getElementById("msg").innerHTML =
        "Thank you! Your response has been recorded.";

      document.getElementById("feedbackForm").reset();
    });
  </script>
</body>
</html>
